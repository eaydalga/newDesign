<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>PHP kökler - Programlama</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<META content=0 http-equiv=expires>
<link rel="stylesheet" type="text/css" href="main.css" media="screen" />
<script language="JavaScript" src="../js/browser.js"> </script>
<script type="text/javascript">
function myvoid()
{
}
function ackapa(no)
{
var bolum="secim"+no;
    target=document.getElementById(bolum);
    if(target.style.display == "inline") {
         target.style.display = "none";
    } else {
         target.style.display = "inline";
    }
}
</script>
</head>

<body onLoad="ayarla();">
<div id="taban">
    <table cellpadding="0" cellspacing="0" width="100%">
    <tr><td valign="top">
       <div id="soltaraf">
           <a href="../index.php"><img src="../img/aybim.png" border="0"></a><br /><br />
           <div class="menublock">
               <a href="phptxt7.html" class="nav">Php Kök</a>
               <a href="phpkok1.html" class="sub">ext_skel</a><br 7>
               <a href="phpkok2.html" class="sub">UNIX:config.m4</a><br 7>
               <a href="phpkok3.html" class="sub">Win:config.w32</a><br 7>
               <a href="phpkok4.html" class="sub">zend_module</a><br 7>
               <a href="phpkok8.html" class="sub">Zorunluluklar</a><br 7>
               <a href="phpkok9.html" class="sub">Hazırlama</a><br 7>
               <a href="phpkok10.html" class="sub">İskelet doldurma</a><br 7>
               <a href="phpkok11.html" class="sub">Hazılama</a><br 7>
               <a href="phpkok12.html" class="sub">Denemeler</a><br 7>
               <a href="phpkok13.html" class="sub">Paket Yaratma</a><br 7>
               <a href="phpkok14.html" class="sub">pdo_dbh_t</a><br 7>
               <a href="phpkok15.html" class="sub">pdo_stmt_t</a><br 7>
               <a href="phpkok16.html" class="sub">Değişmezler</a><br 7>
               <a href="phpkok17.html" class="sub">Hatalar</a><br 7>
               <a href="phpkok18.html" class="sub">PHP uzantı API</a><br 7>
               <a href="phpkok19.html" class="sub">Zend API: </a>
           </div>
       </div>
    </td><td valign="top">
       <center><h2>PHP Hyperlink Preprocessor</h2></center>
       <div id="ortataraf">
<!-- cascading style sheets ardaşık stil sayfaları -->
         <span><img src="img/notebook1.gif"></span>
         <div id="canvas">
<div id="sag"><span class="yazi">10 Mart 2008</span></div>
<div id="bdy" class="yazi">
<h3>Hazırlama ve Temizleme</h3>
<b>Kaynak kod yolu yayılışı</b>

PDO sürücüsü için kaynak yolu aşağıdaki gibi yayılır. Burada SKEL veri tabanına bağlanacak sürücünün kısa yazılma biçimidir. Burada açık olsun diye büyük harfle yazılsa bile gerçekte küçük harf kullanılır.
<pre>
pdo_SKEL/          
  config.m4           # unix kuruluş kodu
  config.w32          # win32 kuruluş kodu
  CREDITS
  package.xml         # paket hakkından meta bilgi
  pdo_SKEL.c          # standart PHP uzantı yapışkanı
  php_pdo_SKEL.h
  php_pdo_SKEL_int.h  # sürücü özel başlığı
  SKEL_dbh.c          # PDO sürücü arayüzü uygulamasını içerir
  SKEL_stmt.c         # PDO deyimi arayüzü uygulamasını içerir
  tests/
</pre>

Bu dosyaların içeriği bu belgede daha sonra açıklanmıştır.
<h3>Bir iskelet yaratma</h3>

Başlamak için ilk yol "ext_skel" kabuk kodudur. PHP kurulum ağacında "ext" yolu içindedir. Bu kod skeleton adlı yolu yukarıdaki dosyalarla doldurur. Aşağıdaki komutu ext yolu altında çalıştırarak bu kurulum çalıştırılır.
<pre>
./ext_skel --extname=pdo_SKEL
</pre>

Bu komut pdo_SKEL adlı bir yol yaratır ve değiştirilebilecek iskelet dosyaları burada yaratılır. Bu dosya yolu daha sonra "ext" yolundan alınmalıdır. PDO bir PECL uzantısıdır ve standrt uzantı yoluna eklenebilir. PHP ve PDO kuruluyken, onu herhangi bir dosya yolunda yaratabilirsiniz.
<h3>Standart Eklemeler (Includes)</h3>
<h3>Özel başlıkları yaratma</h3>

Başlık dosyası config.h "configure" işlemiyle üretilir. Eğer başlık varsa, HAVE_CONFIG_H derleme değişkeni kuruludur. Bu değişken denenmelidir ve eğer kurulduysa config.h derleme birimi içine eklenmelidir.
<h3>PHP Başlıkları (Headers)</h3>

Aşağıdaki standart halka açık php başlıkları her kaynak koda eklenmelidir.
<ol>
   <li> php.h
   <li> php_ini.h
   <li> ext/standard/info.h
</ol>
<h3>PDO Arayüzü Başlıkları </h3>

Aşağıdaki halka açık PDO başlık dosyaları her kaynak modüle eklenmelidir.

<dl>
<dt>pdo/php_pdo.h

    <dd>Bu başlık dosyası ana sürücünün başlama ve bitiş işlevlerinin tanımlarını bulundurur. Ayrıca evrensel PDO değişkenlerinin tanımlarını taşır.
</dd></dt>
<dt>pdo/php_pdo_driver.h

    <dd>
Bu başlık PDO sürücüsü yazmak için API ilişkilerini kullanır. Ayrıca geri besleme için yöntem imzasını  PDO katmanı içinde bulundurur. Sürücünüz PDO ile kaydedilir/kayıdı silinir. En önemlisi, bu başlık dosyası PDO veritabanı ve deyimler için tip (type) tanımlarını içerir. Bir sürücünün ilgilenmesi gereken iki ana yapı pdo_dbh_t ve pdo_stmt_t ilgili bölümlerde ele alınmıştır.
</dd></dt>
</dl>

<h3>Sürücüye Özel Başlıklar</h3>

Tipik PDO sürücünün veritabanına özel iki başlık dosyası vardır. Bunların uygulamaya bağımlılığı yoktur. Kural olarak başlık dosyaları şöyledir:
<dl>
<dt>php_pdo_SKEL.h

    <dd>
Bu başlık dosyası sanal olarak daha önce anlatılan pdo/php_pdo.h dosyasının tam kopyası olup sizin veritabanınıza göre düzenlenmiş biçimidir. Eğer sizin sürücünüz evrensel değişkenleri kullanmak isterse, bu değişkenler ZEND_BEGIN_MODULE_GLOBALS ve ZEND_END_MODULE_GLOBALS makrolarıyla tanımlanmalıdır. Daha sonra bu değişkenlere erişmek için de makrolar kullanılır. Genelde bu makronun adı PRO_SKEL_G(v) olur. Buradaki v erişilmek istenen evrensel değişkenin adıdır.
</dd></dt>
<dt>php_pdo_SKEL_int.h

    <dd>
Bu başlık dosyası sürücüye özel tip (type) tanımlarını içerir. Aynı zamanda veritabanına özel tanımları da içerir. Bu tanımlar pdo_SKEL_handle ve pdo_SKEL_stmt yapılarına ilişkindir. Bunlar özel veri yapılarının adlarıdır. Bunlari göstergenin ve veri yapılarının driver_data üyeleridir.
</dd></dt>
</dl>
<h3>Seçimlik Başlıklar</h3>

Bir sürücünün uygulama ayrrıntılarına bağımlı olarak aşağıdaki başlık eklemesi yapılmalıdır:
<pre>
#include <zend_exceptions.h>
</pre>
         </div>
<div id="sag"> <B><A HREF="javascript:history.back()">Dönüş</A></B> </div>
</div>
         </div>
         <span><img src="img/notebook1.gif"><br /></span>
       </div>
    </td><td valign="top">
       <div id="sagtaraf">
<script type="text/javascript"><!--
google_ad_client = "pub-8541306787668208";
//120x600, created 1/16/08
google_ad_slot = "7007060807";
google_ad_width = 120;
google_ad_height = 600;
//--></script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
<br />
<script type="text/javascript"><!--
google_ad_client = "pub-8541306787668208";
//120x240, created 1/25/08
google_ad_slot = "8433790203";
google_ad_width = 120;
google_ad_height = 240;
google_cpa_choice = ""; // on file
//--></script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>

       </div>
    </td></tr>
    </table>
</div>
</body>
</html>
