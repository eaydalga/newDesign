<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
  <head>
    <meta name="generator" content=
    "HTML Tidy for Linux/x86 (vers 1st March 2002), see www.w3.org">

    <title>The MEDICI Electronic Data Interchange Library</title>
    <meta name="GENERATOR" content=
    "Modular DocBook HTML Stylesheet Version 1.76b+ ">
<style type="text/css">
 body {
  background-color: #FFFFFF;
  color: #000000;
 }
 :link { color: #0000FF }
 :visited { color: #840084 }
 :active { color: #0000FF }
 p.c2 {font-weight: bold}
 dt.c1 {font-weight: bold}
</style>
  </head>

  <body class="article">
    <div class="ARTICLE">
      <div class="TITLEPAGE">
        <h1 class="title"><a name="AEN2">The MEDICI Electronic Data
        Interchange Library</a></h1>

        <h3 class="corpauthor">S-Mart.NET</h3>

        <h3 class="author"><a name="AEN4">David Coles</a></h3>
        <hr>
      </div>

      <div class="TOC">
        <dl>
          <dt class="c1">Table of Contents</dt>

          <dt>1. <a href="#AEN14">Introduction</a></dt>

          <dd>
            <dl>
              <dt>1.1. <a href="#AEN16">Introduction to
              EDI</a></dt>

              <dt>1.2. <a href="#AEN35">Free/Open-source EDI
              software</a></dt>

              <dt>1.3. <a href="#AEN49">MEDICI</a></dt>

              <dt>1.4. <a href="#AEN61">MEDICI Features</a></dt>
            </dl>
          </dd>

          <dt>2. <a href="#AEN80">Building and Installing</a></dt>

          <dd>
            <dl>
              <dt>2.1. <a href="#AEN97">Building</a></dt>

              <dd>
                <dl>
                  <dt>2.1.1. <a href="#AEN102">Building under Unix
                  (or GNU)</a></dt>

                  <dt>2.1.2. <a href="#AEN114">Building under
                  Windows</a></dt>

                  <dt>2.1.3. <a href="#AEN117">Building on an
                  unsupported platform</a></dt>
                </dl>
              </dd>

              <dt>2.2. <a href="#AEN121">Installation</a></dt>

              <dt>2.3. <a href="#AEN125">Example
              applications</a></dt>
            </dl>
          </dd>

          <dt>3. <a href="#AEN142">Using MEDICI</a></dt>

          <dd>
            <dl>
              <dt>3.1. <a href="#edifactsupport">EDIFACT
              support</a></dt>

              <dt>3.2. <a href="#AEN161">TRADACOMS support</a></dt>

              <dt>3.3. <a href="#x12support">ANSI ASC X12
              support</a></dt>
            </dl>
          </dd>

          <dt>4. <a href="#AEN183">Frequently Asked
          Questions</a></dt>

          <dd>
            <dl>
              <dt>4.1. <a href="#AEN186">What is the purpose of
              MEDICI?</a></dt>

              <dt>4.2. <a href="#AEN189">Is MEDICI intended to be
              be used in medical billing applications?</a></dt>

              <dt>4.3. <a href="#x12tsg">Why are there no X12
              guidelines on your TSG page?</a></dt>

              <dt>4.4. <a href="#AEN198">Is MEDICI similar to any
              other parsing library?</a></dt>

              <dt>4.5. <a href="#AEN201">So, it can generate XML.
              Is that its main purpose?</a></dt>

              <dt>4.6. <a href="#AEN204">OK, edi2xml is really neat
              and I use it for my messages. Why are you guys
              developing MEDICI?</a></dt>

              <dt>4.7. <a href="#AEN210">How do directories
              work?</a></dt>

              <dt>4.8. <a href="#AEN214">What are all these
              "Francesco" and "Giovanni" references?</a></dt>

              <dt>4.9. <a href="#AEN217">What's with the
              inconsitent "EDI_" and "edi_" function
              naming?</a></dt>

              <dt>4.10. <a href="#AEN221">I want a DOM based
              parser. Why aren't you doing it?</a></dt>

              <dt>4.11. <a href="#AEN225">Why is it implemented in
              C?</a></dt>

              <dt>4.12. <a href="#AEN228">Why is MEDICI so
              slow?</a></dt>

              <dt>4.13. <a href="#AEN235">Why did you do
              this?</a></dt>
            </dl>
          </dd>

          <dt>A. <a href="#AEN238">Legalese</a></dt>

          <dd>
            <dl>
              <dt>A.1. <a href="#AEN240">LICENSE</a></dt>

              <dt>A.2. <a href="#AEN243">TELESMART API</a></dt>
            </dl>
          </dd>

          <dt><a href="#AEN248">Glossary</a></dt>
        </dl>
      </div>

      <blockquote class="ABSTRACT">
        <div class="abstract">
          <a name="AEN9"></a>

          <p class="c2">About MEDICI</p>

          <p> MEDICI is an Electronic Data Interchange (EDI)
          library. EDIFACT (ISO 9735), ANSI ASC X12 and UNGTDI
          (TRADACOMS) syntaxes are currently supported. MEDICI
          provides a parser for EDI streams and functions to query
          EDI guidelines for validation, reference information and
          design notes. MEDICI does not dictate how EDI guidelines
          should be implemented, but provides an API which can be
          used to interrogate external implementations and an
          example guideline implementation for internal use.</p>

          <p> The operation of the MEDICI parser is roughly
          modelled after the Expat XML library.</p>

          <p> If you would like improved X12 support please
          consider obtaining a copy of the specification to donate
          to the MEDICI project.</p>
        </div>
      </blockquote>

      <div class="sect1">
        <hr>

        <h2 class="sect1"><a name="AEN14">1. Introduction</a></h2>

        <div class="sect2">
          <h3 class="sect2"><a name="AEN16">1.1. Introduction to
          EDI</a></h3>

          <p> <a href="#edi"><i class="firstterm">Electronic Data
          Interchange</i></a> (<span class="acronym">EDI</span>) is
          the generic term given to a selection of standards used
          for the application-to-application exchange of business
          information. It defines machine-readable formats for the
          encoding of order placement, shipping notification and
          invoicing, among many other business transactions.</p>

          <p>The goal of <span class="acronym">EDI</span> is to
          help to realise the dream of the paperless office by
          providing a direct electronic channel by which to carry
          out all aspects of business-to-business transactions.
          Amongst the many advantages that it provides, possibly
          the most useful are that it eliminates the need for
          re-keying of orders and invoices sent via telephone, fax
          or email, and improves the accuracy and speed of
          communications between companies.</p>

          <p>The extent to which <span class="acronym">EDI</span>
          lives up to these goals is debatable. There are numerous
          different standards which vary between countries and
          industry sectors. Industry bodies may add their own
          message types and codes which are not part of the core
          standards, so these extensions must be supported and
          understood by all parties in such transactions. <span
          class="acronym">EDI</span> standards (generally) only
          define the application level rules for structuring the
          transactions, and not the protocols by which the
          transactions are communicated. This has led to the
          proliferation of a number of so-called <i class=
          "firstterm">Value Added Networks</i> (<span class=
          "acronym">VANs</span>) which provide communication
          between companies via numerous gateways such as modem
          dial-up connections and Internet protocols such as
          FTP.</p>

          <p>Organisations such as large corporations and
          government agencies (eg. city councils) may insist on the
          use of <span class="acronym">EDI</span> as a prerequisite
          for trading, or may provide preferable terms for partners
          who can communicate with them electronically. <span
          class="acronym">EDI</span> software is frequently
          expensive, complex, and may require considerable
          customisation by consultancy services. The cost of
          transmitting interchanges via a <span class=
          "acronym">VAN</span> is usually many magnitudes that
          which we have become used to on the global IP network.
          Consequently, <span class="acronym">EDI</span> is not
          often used to its full advantage by <a href="#sme"><i
          class="firstterm">Small and Medium-sized
          Enterprises</i></a> (<span class=
          "acronym">SME</span>s).</p>
        </div>

        <div class="sect2">
          <hr>

          <h3 class="sect2"><a name="AEN35">1.2. Free/Open-source
          EDI software</a></h3>

          <p>The freely available EDI packages which I have managed
          to find seem to fall into one of three catagories:</p>

          <ul>
            <li>
              <p>Java-based application suites, often accessed via
              a web based application server interface. This
              requires a significant degree of supporting
              infrastructure, not least a machine capable of
              handling a Java virtual machine. This would almost
              certainly require a dedicated server and
              administrative resources for the care and feeding of
              the application.</p>
            </li>

            <li>
              <p>Platform or language specific applications. Really
              I am refering to Microsoft Windows or COBOL based
              suites. The Windows based packages are presumably
              intended to appeal to smaller businesses which can
              dedicate a Wintel box to EDI tasks and can hand-feed
              messages or at least supervise the retrieval and
              processing of them. Alternately larger organisations
              which have mainframe installations and a team of
              programmers to hand may be attracted by a COBOL
              package.</p>
            </li>

            <li>
              <p>Task-specific scripts. These generally transform
              the EDI data to another format such as XML. This
              allows the client to understand the messages at a
              higher level, but it does not give it sufficient data
              to explore the EDI message domain. This rather
              clumsy, jargon-oriented sentence is basically trying
              to say "It doesn't help if you want to write an
              integrated development environment around EDI".</p>
            </li>
          </ul>

          <p> Whilst looking for a package which could suit the
          needs of my organisation, I felt there was a gap in the
          range of open-source software on offer. We need to deal
          with a very limited range of transactions for a small
          number of partners. The adoption of a fully-fledged EDI
          suite would be overkill, and would probably result in the
          amount of administrative and customisation work exceeding
          that of the data-entry task it was meant to replace. What
          was really needed was a lightweight, flexible API to
          quickly extract the goodness from a small set of
          messages.</p>

          <p> Ideally I would be able to use an API from within
          Perl applications. This would enable us to integrate the
          package with the rest of our process. The package would
          be lightweight enough to be run reasonably frequently
          from a range of containers. It would be simple to embed
          the functionality into a number of different processes
          which would use it in various environments.</p>

          <div class="note">
            <table class="note" width="100%" border="0">
              <tr>
                <td width="25" align="center" valign="top"><img
                src="/docbook-dsssl/note.gif" hspace="5" alt=
                "Note"></td>

                <td align="left" valign="top">
                  <p>There seem to be a couple more projects which
                  are closer to what I was looking for. However
                  they are libraries written in Java, which isn't
                  very helpful for a Perl environment.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>

        <div class="sect2">
          <hr>

          <h3 class="sect2"><a name="AEN49">1.3. MEDICI</a></h3>

          <p> The goal of MEDICI is to produce a library of code
          which allows <span class="acronym">EDI</span>
          applications to be written with the complexities of the
          various standards hidden from the author. It achieves
          this by abstracting the details of the <span class=
          "acronym">EDI</span> stream behind a set of objects which
          can be easily manipulated by the programmer through
          method calls. Bindings to various scripting languages
          will give users the power to quickly assemble
          applications which understand <span class=
          "acronym">EDI</span> messages and integrate them into
          existing components.</p>

          <p> MEDICI operates as a stream-oriented parser similar
          to the <span class="productname">Expat</span> library for
          XML documents. The client application creates an instance
          of a parser object, registers callbacks with it, and then
          feeds it the <span class="acronym">EDI</span> document.
          As the parser decodes the stream the callbacks are
          triggered as structural events are encountered. MEDICI
          takes care of ensuring that the document meets the
          appropriate specifications, and can pragmatically deal
          with violations according to the policies prescribed by
          the client application.</p>

          <p> Through callbacks, MEDICI passes references to data
          dictionaries and context information which allows the
          application to understand the structure of a message and
          the semantics of the component parts.</p>

          <p> At a later date it is the intention to also provide
          an application framework utilising MEDICI which can
          provide some level of support for conducting business
          based on <span class="acronym">EDI</span> interchanges,
          but for now this is left as an excercise for the
          reader.</p>
        </div>

        <div class="sect2">
          <hr>

          <h3 class="sect2"><a name="AEN61">1.4. MEDICI
          Features</a></h3>

          <ul>
            <li>
              <p>Supports EDIFACT (ISO 9735), UNGTDI (TRADACOMS)
              and ANSI ASC X12 syntaxes.</p>
            </li>

            <li>
              <p>Support for interrogating EDI guidelines.</p>
            </li>

            <li>
              <p>Automatic syntax detection in parser.</p>
            </li>

            <li>
              <p>Message validation through external transaction
              set guideline implementations.</p>
            </li>

            <li>
              <p>Lightweight, embeddable and extensible.</p>
            </li>

            <li>
              <p>Free/Open-source. LGPL licensing model allows you
              to link applications against MEDICI without having to
              open your application (although you are of course
              encouraged to do so).</p>
            </li>

            <li>
              <p>Sets of bindings (in development) allow you to use
              MEDICI from within your favourite language(s).</p>
            </li>

            <li>
              <p>A stream-based approach allows documents to be
              parsed on-line; no memory hit is taken for an
              application which simply routes EDI messages based on
              envelope data, for example.</p>
            </li>
          </ul>
        </div>
      </div>

      <div class="sect1">
        <hr>

        <h2 class="sect1"><a name="AEN80">2. Building and
        Installing</a></h2>

        <p>MEDICI is known to compile on:</p>

        <ul>
          <li>
            <p>Linux 2.x (GCC &amp; Intel C++ Compiler 7.1)</p>
          </li>

          <li>
            <p>Solaris 2.6 (GCC)</p>
          </li>

          <li>
            <p>IRIX 6.5 (MIPSpro &amp; GCC)</p>
          </li>

          <li>
            <p>NetBSD 1.5 / OpenBSD 2.9 / FreeBSD 4.8 (GCC)</p>
          </li>

          <li>
            <p>Darwin 6.2 (GCC)</p>
          </li>

          <li>
            <p>Windows NT 4.0 (Borland C++ 4.0 &amp;
            GCC/Cygwin)</p>
          </li>
        </ul>

        <p>The code is pure ANSI C, so it should compile with any
        modern OS/compiler combination.</p>

        <div class="sect2">
          <hr>

          <h3 class="sect2"><a name="AEN97">2.1. Building</a></h3>

          <p>MEDICI is supplied as a GNU gzip compressed tar file
          from <a href="http://www.disintegration.org/~david/"
          target="_top">http://www.disintegration.org/~david/</a>.
          Unpack the distribution, <b class="command">cd</b> into
          the directory and follow the instructions for your
          platform below.</p>

          <div class="sect3">
            <hr>

            <h4 class="sect3"><a name="AEN102">2.1.1. Building
            under Unix (or GNU)</a></h4>

            <p>Run the configure shell script to produce Makefiles
            and run make:</p>

            <table border="0">
              <tbody>
                <tr>
                  <td><b class="command">./configure</b></td>
                </tr>

                <tr>
                  <td><b class="command">make</b></td>
                </tr>
              </tbody>
            </table>

            <p>And optionally:</p>

            <table border="0">
              <tbody>
                <tr>
                  <td><b class="command">make test</b></td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="sect3">
            <hr>

            <h4 class="sect3"><a name="AEN114">2.1.2. Building
            under Windows</a></h4>

            <p> If anyone has any experience with Windows
            compilation I would be grateful for a description of
            the process or Makefile equivalents.</p>
          </div>

          <div class="sect3">
            <hr>

            <h4 class="sect3"><a name="AEN117">2.1.3. Building on
            an unsupported platform</a></h4>

            <p> The <tt class="filename">src</tt> directory
            contains all the source code for the core library.
            Simply compile and link all the code here to create the
            library. There are no dependencies on external
            libraries.</p>
          </div>
        </div>

        <div class="sect2">
          <hr>

          <h3 class="sect2"><a name="AEN121">2.2.
          Installation</a></h3>

          <p> Installation is not yet supported. Simply add the
          <tt class="filename">src</tt> directory to your
          compiler's include and library paths to use MEDICI in
          your application.</p>
        </div>

        <div class="sect2">
          <hr>

          <h3 class="sect2"><a name="AEN125">2.3. Example
          applications</a></h3>

          <p> Some (very) simple example <span class=
          "QUOTE">"applications"</span> are included in the <tt
          class="filename">examples</tt> directory. These will read
          a file from the command line, or a stream from <tt class=
          "filename">stdin</tt>.</p>

          <p> MEDICI only knows about the "system segments" of
          each EDI standard - these are detailed in the syntax
          specifications. The body of a message is made up of
          segments described in a "directory" or "transaction set
          guidelines" which are published by industry bodies or
          organisations such as the <a href="http://unece.org/"
          target="_top">UNECE</a>. There is no way that the library
          could know about all of these guidelines - there are
          simply too many of them - so instead MEDICI contains a
          set of routines for interrogating an abstraction of the
          guidelines. The client application provides an
          implementation of the guidelines which MEDICI can then
          use to understand the structure of the message.</p>

          <p> The example applications use MEDICI's own internal
          implementions (which are used for storing information
          about system segments) and load in the actual data for
          the directory from text or XML files at runtime. These
          files can be downloaded from <a href=
          "http://www.disintegration.org/~david/tsg/" target=
          "_top">http://www.disintegration.org/~david/tsg/</a>.
          There are a couple of utilities which can be used for
          converting publically available specifiation files in the
          <tt class="filename">util</tt> directory. See the <a
          href="#edifactsupport">EDIFACT</a> and <a href=
          "#x12support">X12</a> support sections for details of how
          to use these utilities.</p>

          <p> Transaction set guidelines can be pretty big, and
          the internal implementation operates very slowly with
          such large amounts of data (it uses linear searches on C
          arrays). Bear in mind that these are only example
          applications. A real application would provide an
          implementation which would, say, read the guidelines from
          an SQL database (possibly with caching) or from a Berkley
          DB file.</p>

          <p> Sample interchanges are provided in the <tt class=
          "filename">samples</tt> directory. These samples are
          simple TeleSmart API files and various interchanges
          culled from publicly available EDI documentation or
          contributed by users. Additional sample files may be
          found in Michael Koehne's <a href=
          "http://www.xml-edifact.org/" target=
          "_top">XML-Edifact</a> Perl module. If you can donate any
          example documents, please feel more than welcome to do
          so.</p>
        </div>
      </div>

      <div class="sect1">
        <hr>

        <h2 class="sect1"><a name="AEN142">3. Using MEDICI</a></h2>

        <p> Please see the programs in <tt class=
        "filename">examples</tt> as the interface is not fully
        defined yet. These examples will be kept more up-to-date
        that this documentation could ever be until then.</p>

        <p> EDI standards such as EDIFACT specify the
        representation of message headers and trailers, but not the
        structure of individual messages. These are specified in
        application specific entities called <i class=
        "firstterm">directories</i> or <i class=
        "firstterm">transaction set guidelines</i> which are
        drafted by industry bodies and organisations such as the
        UN/CEFACT. MEDICI provides an interface to work with these
        third party directories, and includes some example
        directory implementations to illustrate how to integrate
        them into an application.</p>

        <p> The MEDICI parser allows an application to interpret
        an EDI stream in a similar way to an application reading an
        XML stream. This means that the implicit looping structures
        in an EDI stream are interpreted by the parser and
        presented to the application as explicit <span class=
        "QUOTE">"start"</span> and <span class="QUOTE">"end"</span>
        events. The parser also ensures that these events are
        balanced in the same way that a well-formed XML document
        nests. The intention is not to force the user into having
        to deal with XML (though it may make conversion to an XML
        format easier), but embed the logic required to deal with
        implicit nesting into the parser/directory objects, rather
        than each appliction have to deal with it individually.</p>

        <div class="sect2">
          <hr>

          <h3 class="sect2"><a name="edifactsupport">3.1. EDIFACT
          support</a></h3>

          <p>EDIFACT syntax versions 1 and 2 are currently
          supported. Explicit nesting and repetition are not yet
          supported as I have no sample documents. Full support up
          to version 4 is inteded, but sample files will be needed
          for implementation.</p>

          <p> The official UN/EDIFACT standard directories can be
          downloaded in ZIP format from <a href=
          "http://www.unece.org/trade/untdid/" target="_top">The
          UNECE's Trade Data Interchange Directory</a>. The <b
          class="command">untd2t</b> Perl script in the <tt class=
          "filename">util</tt> directory can be used to generate an
          XML file from these directories. The directory must first
          be fully extracted (ZIP files are contained within ZIP
          files!) and the directory structure flattened (<b class=
          "command">unzipdirs</b> can do this for you). Eg.:</p>
<pre class="screen">
[david@kang:~/medici]$ util/unzipdirs d96a.zip
[david@kang:~/medici]$ util/untd2t d96a &gt; d96a.xml
[david@kang:~/medici]$ examples/describe -x d96a.xml samples/orders.edi
     
</pre>
        </div>

        <div class="sect2">
          <hr>

          <h3 class="sect2"><a name="AEN161">3.2. TRADACOMS
          support</a></h3>

          <p>The documentation from E-Centre is in Microsoft Word
          format. This has delayed support considerably, but it is
          getting there. You should find most segments are
          implemented, but there is no support for message grammar
          as yet.</p>

          <p>You can download a half script-generated, half
          hand-hacked TAB separated file from <a href=
          "http://www.disintegration.org/~david/tsg/tradacom.txt.gz"
           target="_top">the MEDICI site</a>. If anyone has
          XML/XSLT skills it should be possible to convert the
          E-Centre Word files to OpenOffice.org XML files and write
          a script to transform those.</p>
<pre class="screen">
[david@kang:~/medici]$ examples/describe -t tradacom.txt samples/priinf.edi
     
</pre>

          <div class="note">
            <table class="note" width="100%" border="0">
              <tr>
                <td width="25" align="center" valign="top"><img
                src="/docbook-dsssl/note.gif" hspace="5" alt=
                "Note"></td>

                <td align="left" valign="top">
                  <p>I have recently noticed that the TRADACOMS
                  guidelines have essentially the same elements
                  used in various segments or composite elements
                  with no common code, but instead the name used to
                  refer to them implies that the element is
                  identical. This will require an extensive manual
                  refactoring of the current TAB file. Given this
                  upheaval, I will convert the whole thing to the
                  new XML format which should also make adding
                  transaction rules easier. If you have specific
                  TRADACOMS needs please contact me, otherwise you
                  are at the mercy of my lethargy ;)</p>
                </td>
              </tr>
            </table>
          </div>
        </div>

        <div class="sect2">
          <hr>

          <h3 class="sect2"><a name="x12support">3.3. ANSI ASC X12
          support</a></h3>

          <p> <i class="firstterm">GuidelineXML</i> (<span class=
          "acronym">gXML</span>) files for a wide range of X12
          transactions can be obtained from <a href=
          "http://www.commercedesk.com/" target=
          "_top">CommerceDesk.COM</a> by following the link to the
          DISA X12 section of the repository. The <b class=
          "command">gxml2t</b> Perl script in the <tt class=
          "filename">util</tt> directory can be used to generate a
          simplified XML file from <span class=
          "acronym">gXML</span> which is suitable for use with the
          example applications. Eg.:</p>
<pre class="screen">
[david@kang:~/medici]$ util/gxml2t V4011_837.gxml &gt; V4011_837.xml
[david@kang:~/medici]$ examples/describe -x V4011_837.xml samples/837x12.edi
     
</pre>

          <div class="note">
            <table class="note" width="100%" border="0">
              <tr>
                <td width="25" align="center" valign="top"><img
                src="/docbook-dsssl/note.gif" hspace="5" alt=
                "Note"></td>

                <td align="left" valign="top">
                  <p> All X12 envelope work has been done
                  empirically due to lack of a freely available
                  specification. If you can donate a copy of the
                  X12 specification to the MEDICI project, please
                  get in touch.</p>

                  <p>Apparently CommerceDesk.COM have taken down
                  their publically available gXML files. You can
                  probably still get them if you use their product.
                  More details about Guideline XML can be found at
                  <a href="http://xml.coverpages.org/gxml.html"
                  target="_top">coverpages.org</a>. If you look
                  carefully you might be able to find some example,
                  or maybe some evaluation software has them.</p>
                </td>
              </tr>
            </table>
          </div>
        </div>
      </div>

      <div class="sect1">
        <hr>

        <h2 class="sect1"><a name="AEN183">4. Frequently Asked
        Questions</a></h2>

        <p>I lie. Mostly they are questions which I think people
        might ask. A fair few are genuine though.</p>

        <div class="sect2">
          <hr>

          <h3 class="sect2"><a name="AEN186">4.1. What is the
          purpose of MEDICI?</a></h3>

          <p>MEDICI aims to provide an object-oriented abstraction
          of EDI protocols. Initially it will provide parser
          functionality, but emitter features will be added later.
          It attempts to support all segment based EDI syntaxes,
          although EDIFACT is probably the best supported format
          due to the easily available message specifications.
          MEDICI specifically does not provide message directories
          (except system directories which are essential for any
          level of operation). However it does provide an API to
          deal with third party message directory
          implementations.</p>
        </div>

        <div class="sect2">
          <hr>

          <h3 class="sect2"><a name="AEN189">4.2. Is MEDICI
          intended to be be used in medical billing
          applications?</a></h3>

          <p>Not specifically, no. Although "medici" is
          uncomfortably close to "medicine" there is no more
          profound link than that. When initially writing MEDICI I
          was not aware of the HIPAA standards, or that X12 was
          heavily used in them. Of course, there are no reasons why
          the library cannot be used in medical applications (other
          than code maturity), but it is no more suited to it than
          any other area of commerce.</p>
        </div>

        <div class="sect2">
          <hr>

          <h3 class="sect2"><a name="x12tsg">4.3. Why are there no
          X12 guidelines on your TSG page?</a></h3>

          <p>Because I have no (copyright free) machine readable
          descriptions of X12 transactions (unlike the wonderful
          UN/EDIFACT directories). If you have GuidelineXML files
          for your transaction set then check out the <a href=
          "#x12support"><b class="command">gxml2t</b></a> script in
          the <tt class="filename">utils</tt> directory. Some
          assembly may be required. Feel free to mail me with
          questions or if you feel like contributing an IP-free TSG
          of your own.</p>
        </div>

        <div class="sect2">
          <hr>

          <h3 class="sect2"><a name="AEN198">4.4. Is MEDICI similar
          to any other parsing library?</a></h3>

          <p>Yes. MEDICI is modelled after "expat" the XML library
          written by James Clark. Please read the fine
          documentation for expat in lieu of documentation for
          MEDICI to get an idea of the structure of an application
          using MEDICI.</p>
        </div>

        <div class="sect2">
          <hr>

          <h3 class="sect2"><a name="AEN201">4.5. So, it can
          generate XML. Is that its main purpose?</a></h3>

          <p>No. The editoxml executable is simply an example of
          how to write an application using MEDICI. It can also be
          used for regression testing of the MEDICI library.</p>
        </div>

        <div class="sect2">
          <hr>

          <h3 class="sect2"><a name="AEN204">4.6. OK, edi2xml is
          really neat and I use it for my messages. Why are you
          guys developing MEDICI?</a></h3>

          <p>edi2xml <span class="emphasis"><i class=
          "emphasis">is</i></span> neat - it has one specific goal
          and it gets down to it with little fuss. Because of this
          approach it does have limitations: The XML::Edifact
          package only deals with EDIFACT; Specific versions of
          EDIFACT directories need to be installed as part of the
          Perl installation; It's Perl - I want
          C/C++/Perl/Python/etc. bindings; It only supports XML - I
          don't want to have to deal with <span class="emphasis"><i
          class="emphasis">two</i></span> crazy formats to get at
          my data!; XML::Edifact only deals with conversion of
          messages - <span class="productname">MEDICI</span>
          provides an API to query message directories, perform
          various levels of validity checks and dynamically support
          industry specific directory specifications.</p>
        </div>

        <div class="sect2">
          <hr>

          <h3 class="sect2"><a name="AEN210">4.7. How do
          directories work?</a></h3>

          <p>Directories are represented as a struct and an
          associated set of functions which provide an API. A
          directory implementor provides a set of function pointers
          which implement the API by accessing whatever back-end
          functionality is required. In this way the implementor
          can create a directory back-end based on technologies of
          his choice.</p>

          <p>The functions are the typical queries which will be
          performed on the directory; What is a segment/element
          called? What are the component elements of a composite
          element? What does this coded value represent? etc..</p>
        </div>

        <div class="sect2">
          <hr>

          <h3 class="sect2"><a name="AEN214">4.8. What are all
          these "Francesco" and "Giovanni" references?</a></h3>

          <p>These are implementations of directories (AKA
          "Transaction Set Guidelines" or TSGs). I couldn't think
          of any objective naming scheme for these implementations,
          so I chose first names of members of the Medici family.
          Francesco is a static source-code structure which is used
          for system segments. Giovanni is a dynamically allocated
          scheme using the included abstract data types and can be
          instantiated with any import functions you care to write
          (trivial text and XML interfaces are included).</p>
        </div>

        <div class="sect2">
          <hr>

          <h3 class="sect2"><a name="AEN217">4.9. What's with the
          inconsitent "EDI_" and "edi_" function naming?</a></h3>

          <p> Initially I started off using Expat as a model for
          the structure of MEDICI along with it's "XML_" naming
          scheme. Sadly EDI standards don't tend to be as elegant
          or regular as XML, so I've had to shoe-horn various
          functions in. Consequently to minimise the impact on the
          client programs (<tt class="filename">examples</tt>
          directory) I have a set of "external" API functions which
          map onto "internal" API functions.</p>
        </div>

        <div class="sect2">
          <hr>

          <h3 class="sect2"><a name="AEN221">4.10. I want a DOM
          based parser. Why aren't you doing it?</a></h3>

          <p>DOM parsers can be (reasonably trivially) built from
          stream-based parsers. A stream-based parser takes no
          memory hit when parsing a large document. Once MEDICI is
          sufficiently mature we may implement a DOM based API on
          top of it. If you are that keen you can build one
          yourself using <span class="productname">MEDICI</span>,
          or convert the EDI document to XML and use an XML DOM
          package. Either way, get in touch and let us know that
          you want this functionality!</p>
        </div>

        <div class="sect2">
          <hr>

          <h3 class="sect2"><a name="AEN225">4.11. Why is it
          implemented in C?</a></h3>

          <p>Portability. Portability. Portability. MEDICI is
          written in pure ANSI C, so it should compile on any
          reasonably modern system. With MEDICI written in C it
          should be trivial to provide bindings for C++, Perl,
          Python, etc..</p>
        </div>

        <div class="sect2">
          <hr>

          <h3 class="sect2"><a name="AEN228">4.12. Why is MEDICI so
          slow?</a></h3>

          <p>Directories are largely implemented as linked lists -
          search times are therefore quite slow. This will improve
          as I replace lists with hashes or trees. Can't wait? Then
          write me!</p>

          <p>The <b class="command">describe</b> and <b class=
          "command">editoxml</b> examples will run slowly as they
          consult directories. For a more realistic example of the
          speed of the core library pass the stream through <b
          class="command">elements</b> instead; this does not
          reference a directory, so you should find it runs around
          a couple of magnitudes faster. Externally implemented
          directories may be represented in any way - maybe as a
          Berkley DB file for example.</p>
        </div>

        <div class="sect2">
          <hr>

          <h3 class="sect2"><a name="AEN235">4.13. Why did you do
          this?</a></h3>

          <p>EDI systems are generally used by large companies
          which can offset the high cost of implementation with
          economies of scale. In my day job I was compelled to use
          EDI for business reasons. Rather than spend thousands of
          dollars buying an EDI application and hiring consultants
          to customise it to our legacy database system I wrote the
          small amount of functionality which we needed from
          scratch in Perl. These are rather simple-minded scripts
          which were developed in a purely empirical manner; ie.
          they work on the limited range of messages that we have
          received so far, but they will not cope with valid
          messages slightly outside of the scope of which we have
          experienced. MEDICI is an attempt to proactively develop
          a system which will replace the scripts if they become
          inadequate.</p>
        </div>
      </div>

      <div class="appendix">
        <hr>

        <h1 class="appendix"><a name="AEN238">A. Legalese</a></h1>

        <div class="sect1">
          <h2 class="sect1"><a name="AEN240">A.1. LICENSE</a></h2>
<pre class="programlisting">
  
    The MEDICI Electronic Data Interchange Library Copyright (C)
    2002 David Coles
    
    This library is free software; you can redistribute it and/or
    modify it under the terms of the GNU Lesser General Public
    License as published by the Free Software Foundation; either
    version 2.1 of the License, or (at your option) any later
    version.
    
    This library is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Lesser General Public License for more details.
    
    You should have received a copy of the GNU Lesser General Public
    License along with this library; if not, write to the Free
    Software Foundation, Inc., 59 Temple Place, Suite 330, Boston,
    MA 02111-1307 USA
    
     
</pre>
        </div>

        <div class="sect1">
          <hr>

          <h2 class="sect1"><a name="AEN243">A.2. TELESMART
          API</a></h2>

          <p>Value Added Network - Edifact Commands And
          Acknowledgements By Telesmart API Ltd and TeleOrdering
          Ltd</p>

          <p>Whitaker (owners of TeleOrdering) is now part of VNU.
          The specification document (docs/telesmart.txt) is
          attributed to them. The specification document and
          derived works are included in this project with the kind
          permission of the IT Director, VNU Entertainment Media
          Ltd.</p>

          <p>This project has no other connection with Telesmart,
          TeleOrdering, Whitaker or VNU.</p>
        </div>
      </div>

      <div class="GLOSSARY">
        <h1><a name="AEN248">Glossary</a></h1>

        <dl>
          <dt class="c1">EDI</dt>

          <dd>
            <p><em>See:</em> <a href="#edi">Electronic Data
            Interchange</a></p>
          </dd>

          <dt><a name="edi"><b>Electronic Data
          Interchange</b></a></dt>

          <dd>
            <p>Catch-all term for the EDIFACT, TRADACOMS and X12
            families of standards for transmitting business
            transactions electronically</p>
          </dd>

          <dt class="c1">SME</dt>

          <dd>
            <p><em>See:</em> <a href="#sme">Small and Medium-sized
            Enterprises</a></p>
          </dd>

          <dt><a name="sme"><b>Small and Medium-sized
          Enterprises</b></a></dt>

          <dt>(SME)</dt>

          <dd>
            <p><a href=
            "http://europa.eu.int/smartapi/cgi/sga_doc?smartapi!celexapi!prod!CELEXnumdoc&amp;lg=EN&amp;numdoc=31996H0280&amp;model=guichett"
             target="_top"> Recommendation 96/280/EC</a> (Link to
            Eur-Lex)</p>
          </dd>
        </dl>
      </div>
    </div>
  </body>
</html>

