<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>PHP kökler - Programlama</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<META content=0 http-equiv=expires>
<link rel="stylesheet" type="text/css" href="main.css" media="screen" />
<script language="JavaScript" src="../js/browser.js"> </script>
<script type="text/javascript">
function myvoid()
{
}
function ackapa(no)
{
var bolum="secim"+no;
    target=document.getElementById(bolum);
    if(target.style.display == "inline") {
         target.style.display = "none";
    } else {
         target.style.display = "inline";
    }
}
</script>
</head>

<body onLoad="ayarla();">
<div id="taban">
    <table cellpadding="0" cellspacing="0" width="100%">
    <tr><td valign="top">
       <div id="soltaraf">
           <a href="../index.html"><img src="../img/aybim.png" border="0"></a><br /><br />
           <div class="menublock">
               <font color="#8e9ccb"><h3>Tanımlar</h3></font>
               <a href="javascript:myvoid();" class="nav">Başlarken</a>
               <a href="phptxt11.html" class="sub">ilk Anlatım</a>
               <a href="javascript:myvoid();" class="nav">Kurulumlar</a>
               <a href="phptxt21.html" class="sub">Genel Kurulum</a><br />
               <a href="phptxt22.html" class="sub">UNIX Kurulumu</a><br />
               <a href="phptxt23.html" class="sub">OSX Kurulumu</a><br />
               <a href="phptxt24.html" class="sub">Wins Kurulumu</a>
               <a href="javascript:myvoid();" class="nav">Dil Kuralları</a>
               <a href="phptxt31.html" class="sub">Temel yazım</a><br />
               <a href="phptxt32.html" class="sub">Tipler</a><br />
               <a href="phptxt33.html" class="sub">Değişkenler</a><br />
               <a href="phptxt34.html" class="sub">Değişmezler</a><br />
               <a href="phptxt35.html" class="sub">Deyimler</a><br />
               <a href="phptxt36.html" class="sub">İşlemler</a><br />
               <a href="phptxt37.html" class="sub">Kontrol Yapıları</a><br />
               <a href="phptxt38.html" class="sub">İşlevler</a><br />
               <a href="phptxt39.html" class="sub">Sınıflar Nesneler</a><br />
               <a href="phptxt391.html" class="sub">Ad uzayı</a><br />
               <a href="phptxt392.html" class="sub">İstisnalar</a>
               <a href="javascript:myvoid();" class="nav">Güvenlik</a>
               <a href="phptxt41.html" class="sub">Giriş</a><br />
               <a href="phptxt42.html" class="sub">Genel bilgi</a><br />
               <a href="phptxt43.html" class="sub">CGI iklisi</a><br />
               <a href="phptxt44.html" class="sub">Apache modülü</a><br />
               <a href="phptxt45.html" class="sub">Dosyadüzeni</a><br />
               <a href="phptxt46.html" class="sub">Veritabanı</a><br />
               <a href="phptxt47.html" class="sub">Hatalar</a><br />
               <a href="phptxt48.html" class="sub">Diğerleri</a><br />
               <a href="javascript:myvoid();" class="nav">Özellikler</a>
               <a href="phptxt51.html" class="sub">HTTP Şifresi</a><br />
               <a href="phptxt52.html" class="sub">Çerezler</a><br />
               <a href="phptxt53.html" class="sub">Oturumlar</a><br />
               <a href="phptxt54.html" class="sub">XForm</a><br />
               <a href="phptxt55.html" class="sub">DosyaYükleme</a><br />
               <a href="phptxt56.html" class="sub">UzakDosyalar</a><br />
               <a href="phptxt57.html" class="sub">Bağlantılar</a><br />
               <a href="phptxt58.html" class="sub">VTBağlantısı</a>
               <font color="#8e9ccb"><h3>Gelişmiş</h3></font>
               <a href="phptxt7.html" class="nav">Php Kökü</a>
               <a href="phptxt8.html" class="nav">Ekler</a>
           </div>
       </div>
    </td><td valign="top">
       <center><h2>PHP Hyperlink Preprocessor</h2></center>
       <div id="ortataraf">
<!-- cascading style sheets ardaşık stil sayfaları -->
         <span><img src="img/notebook1.gif"></span>
         <div id="canvas">
<div id="sag"><span class="yazi">10 Mart 2008</span></div>
<div id="bdy" class="yazi">
<h2>php Programlama</h2>

<h3>PHP 5 kurulum sistemi</h3>
PHP 5 içindeki tüm işlevselliği ve esnekliğiyle etkin olan aslında binlerce dosya ve bir milyon satırdan oluşan kaynak koddur. Eşit olan bir başka şey, bu kadar verinin yönetilebildiği kuruluş biçimidir. Burada PHP uzantıları için nasıl gelişme yapılacağı anlatılır. PHP kaynak ağacı içinde uzantıların yerleştirilişi ve bunların kurulan sisteme nasıl bağlanacağı anlatılır.
<h3>Uzantıların gelişmesi için PHP kurulumu </h3>

Tipik PHP kurulumunda, yüksek verim gereksinimi hata yazma özelliğinin getirdiği yükle sonuçlanır. Bu üretim anında önemli bir verim noktasıdır.  
<br /><br />
Zend makinesi bellek yönetimi sunar. Uzantılardaki bellek gediklerini izleyebilen ve gelişmiş hata yazdırma bilgileri olan bir yönetim biçimidir. Bu izleme varsayılan olarak kapalıdır. Bu güvenli yöntemdir. Bunları açmak için "--enable-debug" ve "--enable-maintainer-zts" seçeneklerin ayarları derleme sırasında yapılır. Tipik ayarlarla yapılacak derleme satırı çöyle olabilir:
<pre>
$ ./configure --prefix=/where/to/install/php
              --enable-debug --enable-maintainer-zts
              --enable-cgi --enable-cli --with-mysql=/path/to/mysql
</pre>
<ul>
    <li> <a href="phpkok1.html"> ext_skel kodlaması </a>

    <li> <a href="phpkok2.html"> UNIX kurulum sistemi hakkında: config.m4 </a>
    <li> <a href="phpkok3.html"> Windows kurulum sistemi hakkında: config.w32 </a>
</ul>
<hr>

<h3>Uzantı Yapısı</h3>
Birçok "Uzantı yazma" kitapçığında odaklanma ilk önce hep basittir. Daha karmaşık uygulamalar hep sonraya bırakılır. Bu tür kitaplıklar kendilerini yinelerler. Böylece yeni özellikler anlatılmış olur. Bu bölümde uzantıların yapısı olgun bir açıdan ele alınır. Uygulama yöntemleri anlatılır. Bu bilgiler uzantı yazacaklara nasıl yapacaklarını anlatmaya yöneliktir.
Files which make up an extension
<br /><br />
İster elle yaratılmış olsun, ister ext_skel kullanılsın ya da diğer bir uzantı üretme sisteminden olsun (CodeGen gibi) her uzantının en az dört dosyası olmalıdır.
<dl>
<dt>config.m4

    <dd>UNIX kurulum sistemi ayarlaması 
</dd></dt>
<dt>config.w32

    <dd>Windows kurulum sistemi ayarları
</dd></dt>
<dt>php_example.h

    <dd>
Bir uzantıyı PHP ikilisi içine statik modül olarak eklenmesi gerektiğinde "header" (başlık) dosyası olmalıdır. Başlık dosyası php_ ile başlar peşine uzantının adı yazılır. Bu dosyada makrolar, prototip tanımlar ve evrenseller (globals) bulunur.
</dd></dt>
<dt>example.c

    <dd>
Ana uzantı kaynak dosyası. Tanımlama olarak bu dosyanın adı uzantının adı olur ama bir zorunluluk değildir. Bu dosya; modül yapısının tanımları, INI girişleri, yönetim işlevleri, kullanıcı uzayı ve uzantının diğer özellikleri vardır.
</dd></dt>
</dl>

Kurulma sistemi dosyaları başka yerde tartışılır. Bu bölüm kalan bilgilere yoğunlaşır. Bu dört dosya çıplak bir uzantının en küçük yapısını oluşturur. Burada istenilen sayıda başlıklar, kaynak dosyalar, birim testleri ve diğer destek dosyalar olabilir. Gerçek uzantıda bu dosyaların görünümü şöyle olur:
<br /><br />
Örnek-1: örnek "real" uzantısında bulunan dosyalar aşağıda sıralanmıştır
<pre>
ext/
 example/
  .cvsignore
  config.m4
  config.w32
  example_util.h
  example_util.c
  php_example.h
  example.c
  package.xml
  CREDITS
  tests/
   critical_function_001.phpt
   critical_function_002.phpt
   optional_function_001.phpt
   optional_function_002.phpt
</pre>
<ul>
    <li> <a href="phpkok4.html">zend_module yapısı </a>
    <li> Uzantıların evrenselleri
    <li> Uzantının Ömrü
    <li> Uzantıyı deneme
</ul>


<h3>Kaynak olmayan dosyalar</h3>

".cvsignore" dosyası uzantılar için kullanılır. PHP CVS havuzunda (çoğunlukla PECL) ext_skel ile üretilen dosyalarda şunlar olur:
<pre>
.deps
*.lo
*.la
</pre>
Bu satırlar CVS sistemine PHP kurulum sistemince üretilen ara dosyaların dikkate alınmayacağını bildirir. Bu yalnız uygunluk değil ve hastalık etkisi olmadan tümüyle de unutulabilir.
<br /><br />
CREDITS dosyası uzantıya katkıdan bulunanları ve/veya bakımcıları düz yazı biçiminde verir. Bu dosyanın asıl amacı, phpcredits() ile paketlenmiş uzantılar hakkında Kredi bilgisini üretmektir. Uygunluk açısından bu dosyanın ilk satırı uzantının adını taşır. İkincisinde virgülle ayrılmış katkıda bulunanlar listesi olur. Katkıda bulunanlar listeye kronolojik olarak girerler. PECL paketlerinde bu bilgi package.xml dosyasında yer alır.
<br /><br />
package.xml dosyası PECL tabanlı uzantılara özeldir. Bir uzantının ilişkilerini, yazarlarını, kurulum gereksinimlerini ve diğer bilgileri içerir. 
<hr>

<h3>Yazma işleveleri</h3>

PHP yapıştırma dili olarak da bilinir ve onu kolaylıkla üreticilerle geliştirebilirsiniz. ext_skel ve prototype dosyalarını kullandığınızda tüm dışa verilen işlevlerin hepsinde çok temel prototip özellik görülür: PHP_FUNCTION(func_name)
<hr>

<h3>zend_module yapısı</h3>

PHP uzantısının asıl kaynağı C programcıları için birçok yeni yapıcıyı içerir. Bunların en önemlisi, yeni bir uzantıya başlarken ilk dokunulan zend_module yapısıdır. Bu yapı sağlıklı bilgiler içerir ve Zend Makinesine uzantıların bağımlılıklarını, sürümlerini, geri dönüşlerini ve diğer kritik verilerini anlatır. Yapı zaman içinde çok değişime uğramıştır. Bu bölümde yapının PHP 5.0 sürümünden bu yana aldığı biçim kullanılmıştır. PHP 5.1 ve 5.2 sürümlerinde değişen çok az şey de yerinde tanımlanmıştır.
<br /><br />
The zend_module declaration from example.c looks like this before any code has been written (the example file was generated by ext_skel --extname=example):
<br /><br />
Örnek-1 örnek uzantıda zend_module tanımı
<pre>
/* {{{ example_module_entry
 */
zend_module_entry example_module_entry = {
#if ZEND_MODULE_API_NO >= 20010901
    STANDARD_MODULE_HEADER,
#endif
    "example",
    example_functions,
    PHP_MINIT(example),
    PHP_MSHUTDOWN(example),
    PHP_RINIT(example),     /* Başlama isteğinden yapacak bir şey yoksa 
                               NULL ile değiştir */
    PHP_RSHUTDOWN(example), /* Başlama isteğinden yapacak bir şey yoksa 
                               NULL ile değiştir */
    PHP_MINFO(example),
#if ZEND_MODULE_API_NO >= 20010901
    "0.1", /* Replace with version number for your extension */
#endif
    STANDARD_MODULE_PROPERTIES
};
/* }}} */
</pre>
İlk başta çok karışık gelebilir ama çoğunu anlamak çok kolaydır. Aşağıda Zend modülünün tanımı vardır. PHP 5.2 sürümündeki zend_module.h dosyasından alınmıştır. Bazı yakın değişmezler de örneğe eklenmiştir (Anlaşılması kolay olsun diye).
<br /><br />
Örnek-2: PHP 5.2 sürümünde zend_module tanımlama
<pre>
#define ZEND_MODULE_API_NO 20060613
struct _zend_module_entry {
    unsigned short size;
    unsigned int zend_api;
    unsigned char zend_debug;
    unsigned char zts;
    struct _zend_ini_entry *ini_entry;
    struct _zend_module_dep *deps;
    char *name;
    struct _zend_function_entry *functions;
    int (*module_startup_func)(INIT_FUNC_ARGS);
    int (*module_shutdown_func)(SHUTDOWN_FUNC_ARGS);
    int (*request_startup_func)(INIT_FUNC_ARGS);
    int (*request_shutdown_func)(SHUTDOWN_FUNC_ARGS);
    void (*info_func)(ZEND_MODULE_INFO_FUNC_ARGS);
    char *version;
    size_t globals_size;
#ifdef ZTS
    ts_rsrc_id* globals_id_ptr;
#else
    void* globals_ptr;
#endif
    void (*globals_ctor)(void *global TSRMLS_DC);
    void (*globals_dtor)(void *global TSRMLS_DC);
    int (*post_deactivate_func)(void);
    int module_started;
    unsigned char type;
    void *handle;
    int module_number;
};
#define STANDARD_MODULE_HEADER_EX sizeof(zend_module_entry), \
    ZEND_MODULE_API_NO, ZEND_DEBUG, USING_ZTS
#define STANDARD_MODULE_HEADER \
    STANDARD_MODULE_HEADER_EX, NULL, NULL
#define ZE2_STANDARD_MODULE_HEADER \
    STANDARD_MODULE_HEADER_EX, ini_entries, NULL

#define STANDARD_MODULE_PROPERTIES_EX 0, 0, NULL, 0

</pre>

<hr>

<h3>PDO Sürücüsü Nasılları</h3>
<pre class="yazi">
Yazanlar:
	Bill Abt
	Rick McGuire
	Wez Furlong
© 2005 IBM Corporation
© 2005 the PHP Documentation Group
</pre>

Buradaki Nasılların amacı veritabanı sürücüsünün nasıl olması gerektiğini ve standartlarını PDO katmanıyla anlamaktır. Unutmayın ki bu hala gelişmekte olan bir API olduüu için kuralları hem her an değişebilir. Bu belgeler PDO *.3 sürümünw dayanarak hazırlanmıştır.
<br /><br />
<bh3>Buradaki Nasıllar için kısa açıklama</h3>
PHP komitesine geliştirmede yardımcı olması amacıyla PDO sürücüsü tanımları ilk olarak IBM'den Bill Abt ve Rick McGuire tarafından yazılmıştır. Amaç PHP içinde daha çok veritabanı kullanmak ve  veritabanı erişiminin standart sağlamaktır.
<ul>
    <li> <a href="phpkok8.html">Önceki Zorunluluklar </a>
    <li> <a href="phpkok9.html">Hazırlama ve temizleme </a>
    <li> <a href="phpkok10.html">İskeleti doldurma </a>
    <li> <a href="phpkok11.html">Kurma </a>
    <li> <a href="phpkok12.html">Deneme </a>
    <li> <a href="phpkok13.html">Paketleme ve dağıtım </a>
    <li> <a href="phpkok14.html">pdo_dbh_t tanımı </a>
    <li> <a href="phpkok15.html">pdo_stmt_t tanımı </a>
    <li> <a href="phpkok16.html">Değişmezler </a>
    <li> <a href="phpkok17.html">Hataları ele alma </a>
</ul>
<hr>

<h3>Zend Engine 1</h3>
<b>Zend Makinesi 1</b> PHP 4 sürümleri içinde kullanılan bir makinedir. Artık kullanılmıyor. Ama hala pekçok yerde PHP 4 kullanıldığından belgeleri olduğu gibi korunmuştur.
<ul>
    <li> <a href="phpkok18.html">PHP uzantıları yazarları için Akarların API bilgisi </a>
    <li> <a href="phpkok19.html">Zend API: PHP çekirdeğini kırma </a>
    <li> TSRM API
</ul>

<h3>Eksi Giriş</h3>

Eğer PHP ya da Zend uzantısı geliştirmeye başlamak üzereyseniz, kendinizi birçok API kullanılabilen bir programlama ortamına hazırlamalısınız. Burada değişik PHP ve Zend Makinesi sürümlerine uygun API'lerin kullanımı anlatılır. Buradaki bilgilerin birçoğu artık kullanılmadığından, README.SELF-CONTAINED-EXTENSIONS ve README.EXT_SKEL gibi dosyaşarı da okumanız gerekecektir.
<hr>
</div>
         </div>
         <span><img src="img/notebook1.gif"><br /></span>
       </div>
    </td><td valign="top">
       <div id="sagtaraf">

       </div>
    </td></tr>
    </table>
</div>
</body>
</html>
