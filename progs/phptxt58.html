<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>PHP - Özellikler Sürekli Veri Tabanı Bağlantısı </title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<META content=0 http-equiv=expires>
<link rel="stylesheet" type="text/css" href="main.css" media="screen" />
<script language="JavaScript" src="../js/browser.js"> </script>
<script type="text/javascript">
function myvoid()
{
}
</script>
</head>

<body onLoad="ayarla();">
<div id="taban">
    <table cellpadding="0" cellspacing="0" width="100%">
    <tr><td valign="top">
       <div id="soltaraf">
           <a href="../index.html"><img src="../img/aybim.png" border="0"></a><br /><br />
           <div class="menublock">
               <font color="#8e9ccb"><h3>Tanımlar</h3></font>
               <a href="javascript:myvoid();" class="nav">Başlarken</a>
               <a href="phptxt11.html" class="sub">ilk Anlatım</a>
               <a href="javascript:myvoid();" class="nav">Kurulumlar</a>
               <a href="phptxt21.html" class="sub">Genel Kurulum</a><br />
               <a href="phptxt22.html" class="sub">UNIX Kurulumu</a><br />
               <a href="phptxt23.html" class="sub">OSX Kurulumu</a><br />
               <a href="phptxt24.html" class="sub">Wins Kurulumu</a>
               <a href="javascript:myvoid();" class="nav">Dil Kuralları</a>
               <a href="phptxt31.html" class="sub">Temel yazım</a><br />
               <a href="phptxt32.html" class="sub">Tipler</a><br />
               <a href="phptxt33.html" class="sub">Değişkenler</a><br />
               <a href="phptxt34.html" class="sub">Değişmezler</a><br />
               <a href="phptxt35.html" class="sub">Deyimler</a><br />
               <a href="phptxt36.html" class="sub">İşlemler</a><br />
               <a href="phptxt37.html" class="sub">Kontrol Yapıları</a><br />
               <a href="phptxt38.html" class="sub">İşlevler</a><br />
               <a href="phptxt39.html" class="sub">Sınıflar Nesneler</a><br />
               <a href="phptxt391.html" class="sub">Ad uzayı</a><br />
               <a href="phptxt392.html" class="sub">İstisnalar</a>
               <a href="javascript:myvoid();" class="nav">Güvenlik</a>
               <a href="phptxt41.html" class="sub">Giriş</a><br />
               <a href="phptxt42.html" class="sub">Genel bilgi</a><br />
               <a href="phptxt43.html" class="sub">CGI iklisi</a><br />
               <a href="phptxt44.html" class="sub">Apache modülü</a><br />
               <a href="phptxt45.html" class="sub">Dosyadüzeni</a><br />
               <a href="phptxt46.html" class="sub">Veritabanı</a><br />
               <a href="phptxt47.html" class="sub">Hatalar</a><br />
               <a href="phptxt48.html" class="sub">Diğerleri</a><br />
               <a href="javascript:myvoid();" class="nav">Özellikler</a>
               <a href="phptxt51.html" class="sub">HTTP Şifresi</a><br />
               <a href="phptxt52.html" class="sub">Çerezler</a><br />
               <a href="phptxt53.html" class="sub">Oturumlar</a><br />
               <a href="phptxt54.html" class="sub">XForm</a><br />
               <a href="phptxt55.html" class="sub">DosyaYükleme</a><br />
               <a href="phptxt56.html" class="sub">UzakDosyalar</a><br />
               <a href="phptxt57.html" class="sub">Bağlantılar</a><br />
               <a href="phptxt58.html" class="sub">VTBağlantısı</a>
               <font color="#8e9ccb"><h3>Gelişmiş</h3></font>
               <a href="phptxt7.html" class="nav">Php Kökü</a>
               <a href="phptxt8.html" class="nav">Ekler</a>
           </div>
       </div>
    </td><td valign="top">
       <center><h2>PHP Hyperlink Preprocessor</h2></center>
       <div id="ortataraf">
<!-- cascading style sheets ardaşık stil sayfaları -->
         <span><img src="img/notebook1.gif"></span>
         <div id="canvas">
<div id="sag"><span class="yazi">2 Şubat 2008</span></div>
<div id="bdy" class="yazi">

<h2>Sürekli Veri Tabanı Bağlantısı</h2>

Sürekli bağlantılar, kodlamanın çalışması bitse bile kesilmeyen bağlantılardır. Sürekli bağlantı istendiğinde, PHP  önce aynı bağlantı var mı bakar (önceden açık kalan bağlantı), eğer varsa onu kullanır. Eğer böyle bir bağlantı yoksa, bağlantıyı kurar. Aynı bağlantı demek, aynı kullanıcıyla aynı veri tabanına kurulan bağlantıdır.
<br /><br />
Web sunucuların nasıl çalıştığı konusunda çok iyi bilgisi olmayanlar, sürekli bağlantıyı yanlış anlayabilirler. Genelde size aynı bağ üzerinden "user session" (kullanıcı oturumu) kurma olanağı vermez. Size işlemleri daha kullanışlı ve verimli kurma şansı da vermez. Sürekli bağlantılar, sürekli olmayan bağlantılardan daha fazla bir şey de sunmaz. 

<b>Niçin?</b>

Bu web sunucunun çalışma biçimiyle ilgilidir. Web sunucu üç değişik yolla PHP'nin web sayfası üretmesini sağlar.
<br /><br />
İlk yöntem PHP'yi CGI paketi gibi kullanmaktır. Bu biçimiyle çalıştırınca, her sayaf isteminde PHP yorumlayıcısının bir kopyası yaratılır ve işi bitimce silinir. Her istekten sonra silindiği için kullanıdığı kaynakları da bırakır. Burada sürekli bağlantıdan hiçbir yarar sağlamazsınız. Aslında sürekli de değildirler.
<br /><br />
İkincisi ve en yaygın olan yöntem çok işlemli bir web sunucusunda modül olarak PHP çalıştırmaktır. Bu şu anda yalnız Apache altında vardır. çok işlemli sunucu tipik olarak bir sunucusu vardır (kök sunucu) bir küme dolusu işlemi yönetir (kendi çocukları). Çocuklar aslında sayfalar üzerinde çalışan işlemlerdir. İstemciden istek geldiğinde çocuklardan birinin ele alması beklenir. Başka bir istemciye servis vermeyen çocuk bu isteği alır. Aynı istemci sunucuyla bir kez daha bağlantı kurarsa onu da başka bir çocuk karşılayacaktır. Sürekli bağlantı kurulursa, çocuklarla bağlantı kuran istemcilerin SQL istekleri kurulmuş olan sürekli bağlantılar üzerinden işleme girer.
<br /><br />
Üçüncü yöntem, PHP yazılımını "multithread" web sunucusuna eklenebilir program olarak bağlamaktır. Şu ana değin PHP 4 sürümü ISAPI, WSAPI ve NSAPI (Windows üzerinde) destekler. Hepsi de Netscape FastTrack (iPlanet) Microsoft IIS ve O'Reilly'nin WebSite Pro web sunucularında kullanılabilir. Davranış aslında çokişlemli modeldekiyle aynıdır. PHP 3 sürümünde SAPI desteği yoktur.
<br /><br />
Eğer sürekli bağlantının ek bir yararı yoksa o zaman onlar hakkında güzel olan nedir?
<br /><br />
Yanıt oldukça basittir: Verimlilik. Sürekli bağlantılar SQL sunucuya bağlanmada dar boğaz varsa kullanılmalıdır. Daraboğazın yüksekliği birçok nedene dayanır. Bunlardan bazıları; Ne tür veri tabanı olduğu, aynı bilgisayarda olup olmadığı, SQL sunucunun bulunduğu bilgisayarın iş yükünün ne kadar olduğu gibi nedenlerdir. Eğer darboğaz çok büyük sorunsa, sürekli bağlantı size çok yardımcı olur. Çocuk işlem tüm yaşamı boyunca SQL sunucuya yalnız bir kez bağlanır, her sayfayı oluştururken değil. Eğer 20 sayfadan SQL bağlantısı isteniyorsa heer biri kendi sürekli bağlantısıyla veri tabanına erişir. Her çocuk işlemi için bir sürekl bağlantı bulunur.
<br /><br />
Bunun da sorunları vardır. Eğer kullandığınız veri tabanında aynı anda kurulan bağlantı sayısında sınırlama varsa ve sınır sürekli bağlantılarla aşılacak olursa aynı anda çalışan işlem sayısı da sınırlanmış olur. Eğer kodlamanızda hata varsa ve doğru biçimde son bulmuyorsa (sonsuz döngü gibi), veri tabanının sınırlamasını hemen doldurup sistemi ölümcül kitlenmeye götürebilirsiniz.
<b>UYARI</b>

Sürekli bağlantılar hakkında akılda kalacak birkaç tane daha uyarıya gerek vardır. Biri şöyle: Sürekli bağlantıda kodlama tablo kilitlemesi yapar ve bir nedenden ötürü kilitleme açılamazsa, aynı bağlantıyı kullanan sonraki kodlamalar sonsuza değin bloklanmış olur. Diğeri işlemleri kullanırken, işlem bloklaması aynı bağlantıyı kullanan bir sonrakine taşınır ve kodlama işlem bloklamasından önce biterse sistem kilitlenir. Her iki durumda da basit bir temizleme işlemi için register_shutdown_function() ile kayıt yapılmalıdır. Tablo kilitlerinin açılması, ya da işlem bloklarının kaldırılması bu işlevle yapılır. En iyisi tablo kilitleme y ada işlem bloklama kullanan kodlamalarda sürekli bağlantı yapılmamasıdır (ama başka yerlerde hala kullanabilirsiniz).
<br /><br />

Önemli bir özet. Sürekli bağlantılar kuralı bağlantılara bire bir uyum için tasarlamıştır. Bunun anlamı sürekli bağlantıları her zaman sürekli olmayan bağlantılarla değiştirebilirisiniz ve sizin kodlamanızın davranışını değiştirmez. Belki kodlamanızın verimini değiştirecektir ama davranışını değil.
<br /><br />
fbsql_pconnect(), ibase_pconnect(), ifx_pconnect(), ingres_pconnect(), msql_pconnect(), mssql_pconnect(), mysql_pconnect(), ociplogon(), odbc_pconnect(), ora_plogon(), pfsockopen(), pg_pconnect(), ve sybase_pconnect() işlevlerine de bakın.
</div>
         </div>
         <span><img src="img/notebook1.gif"><br /></span>
       </div>
    </td><td valign="top">
       <div id="sagtaraf">

       </div>
    </td></tr>
    </table>
</div>
</body>
</html>
